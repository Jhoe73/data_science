proc fcmp outlib=work.functions.stringfuncs;
    function pad_and_convert(input_str $);
        length padded_str $ 16;
        
        /* Verifica o tamanho da string */
        if lengthn(input_str) < 16 then do;
            /* Preenche a string com '0000' no final */
            padded_str = trim(input_str) || "0000";
            
            /* Se ainda for menor que 16 caracteres, completa com '0' no começo */
            if lengthn(padded_str) < 16 then 
                padded_str = repeat("0", 16 - lengthn(padded_str)) || padded_str;
        end;
        else do;
            /* Se já tiver 16 ou mais caracteres, mantém os primeiros 16 */
            padded_str = substr(input_str, 1, 16);
        end;

        /* Converte para valor numérico */
        return(input(padded_str, 16.));
    endsub;
run;

/* Associar a biblioteca de funções criada ao ambiente */
options cmplib=work.functions;

/* Exemplo de uso */
data teste;
    length original_str $ 20;
    original_str = "18585575859"; /* Exemplo de string de 11 caracteres */
    num_value = pad_and_convert(original_str);
    put num_value=;
run;
